# ═══════════════════════════════════════════════════════════════════════════════
# The Ravagers - Operation
# ═══════════════════════════════════════════════════════════════════════════════
# Pirate-themed operation on Rishi. 5 bosses.

[area]
name = "The Ravagers"
id = 3367421863788544

# ═══════════════════════════════════════════════════════════════════════════════
# Boss 1: Sparky
# ═══════════════════════════════════════════════════════════════════════════════

[[boss]]
id = "sparky"
name = "Sparky"
difficulties = ["story", "veteran", "master"]

[[boss.entities]]
name = "Sparky"
ids = [3458114393210880, 3367555007774720, 3458122983145472, 3458110098243584]
is_boss = true
is_kill_target = true

[[boss.phases]]
id = "sparky_p2"
name = "Phase 2"
trigger = { type = "boss_hp_below", hp_percent = 90.1, selector = ["Sparky"] }

[[boss.phases]]
id = "sparky_p3"
name = "Phase 3"
trigger = { type = "boss_hp_below", hp_percent = 60.1, selector = ["Sparky"] }

[[boss.phases]]
id = "sparky_burn"
name = "Burn"
trigger = { type = "boss_hp_below", hp_percent = 25.1, selector = ["Sparky"] }

[[boss.timer]]
id = "sparky_brutalize"
name = "Brutalize"
trigger = { type = "any_of", conditions = [
  { type = "effect_removed", effects = [
    3380452794564608,
  ] },
  { type = "phase_entered", phase_id = "sparky_burn" },
] }
is_alert = true
alert_text = "Brutalize"
color = [224, 128, 24, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "sparky_shoulder_throw"
name = "Shoulder Throw"
trigger = { type = "ability_cast", abilities = [3377850044383232] }
duration_secs = 13.0
color = [203, 204, 46, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "sparky_rampage_end"
name = "Rampage END"
trigger = { type = "ability_cast", abilities = [3380452794564608] }
duration_secs = 15.0
color = [187, 29, 224, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "sparky_rampage_p2"
name = "Rampage P2"
display_text = "Rampage"
trigger = { type = "any_of", conditions = [
  { type = "ability_cast", abilities = [
    3380452794564608,
  ] },
  { type = "phase_entered", phase_id = "sparky_p2" },
] }
duration_secs = 36.0
color = [187, 29, 224, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "sparky_rampage_p3"
name = "Rampage P3"
trigger = { type = "any_of", conditions = [
  { type = "ability_cast", abilities = [
    3380452794564608,
  ] },
  { type = "boss_hp_below", hp_percent = 25.0, selector = [
    "Sparky",
  ] },
] }
duration_secs = 46.0
color = [187, 29, 224, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "sparky_forceful_roar_adds"
name = "Forceful Roar (Adds)"
trigger = { type = "ability_cast", abilities = [3380792096980992] }
duration_secs = 40.5
color = [34, 173, 19, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "sparky_roar_adds"
name = "Roar (Adds)"
trigger = { type = "ability_cast", abilities = [3378502879412224] }
duration_secs = 17.5
color = [34, 173, 19, 255]
difficulties = ["veteran"]


# ═══════════════════════════════════════════════════════════════════════════════
# Boss 2: Quartermaster Bulo
# ═══════════════════════════════════════════════════════════════════════════════

[[boss]]
id = "bulo"
name = "Quartermaster Bulo"
difficulties = ["story", "veteran", "master"]

[[boss.entities]]
name = "Quartermaster Bulo"
ids = [3468701487595520, 3371446248144896, 3468697192628224, 3468705782562816]
is_boss = true
is_kill_target = true

# ═══════════════════════════════════════════════════════════════════════════════
# Boss 3: Torque
# ═══════════════════════════════════════════════════════════════════════════════

[[boss]]
id = "torque"
name = "Torque"
difficulties = ["story", "veteran", "master"]

[[boss.entities]]
name = "Torque"
ids = [3468714372497408, 3397005598523392, 3468718667464704, 3468710077530112]
is_boss = true
is_kill_target = true

# ═══════════════════════════════════════════════════════════════════════════════
# Boss 4: Master & Blaster
# ═══════════════════════════════════════════════════════════════════════════════

[[boss]]
id = "master_blaster"
name = "Master & Blaster"
difficulties = ["story", "veteran", "master"]

[[boss.entities]]
name = "Blaster"
ids = [
  3725149689872384,
  3391095723524096,
  3462181727240192,
  3462186022207488,
  3458148752949248,
]
is_boss = true
is_kill_target = true

[[boss.entities]]
name = "Master"
ids = [3391100018491392]
is_boss = true
is_kill_target = true

[[boss.phases]]
id = "master_blaster_main"
name = "Blaster"
trigger = { type = "combat_start" }

[[boss.phases]]
id = "master_blaster_master"
name = "Master & Blaster"
trigger = { type = "any_of", conditions = [
  { type = "npc_appears", selector = ["Master"] },
  { type = "effect_removed", effects = [3400759399940096] },
] }

[[boss.phases]]
id = "master_blaster_rop"
name = "Rain of Pain"
trigger = { type = "ability_cast", abilities = [3400759399940096] }

[[boss.phases]]
id = "master_blaster_burn"
name = "Burn"
trigger = { type = "effect_removed", effects = [3391336241692965] }

[[boss.timer]]
id = "master_blaster_scatterblast_1st"
name = "Scatterblast 1st"
display_text = "Scatterblast"
trigger = { type = "combat_start" }
duration_secs = 6.0
color = [219, 28, 28, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "master_blaster_ion_cutter"
name = "Ion Cutter"
trigger = { type = "ability_cast", abilities = [3397933311459328] }
duration_secs = 12.0
color = [33, 224, 219, 255]
difficulties = ["veteran"]
chains_to = "master_blaster_fire_wheel"

[[boss.timer]]
id = "master_blaster_fire_wheel"
name = "Fire Wheel"
trigger = { type = "manual" }
duration_secs = 20.0
color = [224, 131, 33, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "master_blaster_scatterblast_m"
name = "Scatterblast"
trigger = { type = "ability_cast", abilities = [3421916408840192] }
duration_secs = 9.0
color = [219, 28, 28, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "master_blaster_rain_of_pain_1st"
name = "Rain of Pain 1st"
display_text = "Rain of Pain"
trigger = { type = "effect_removed", effects = [3413408078626816] }
duration_secs = 59.0
color = [224, 24, 191, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "master_blaster_scatterblast_p2_1st"
name = "Scatterblast P2 1st"
display_text = "Scatterblast"
trigger = { type = "effect_removed", effects = [3413408078626816] }
duration_secs = 13.0
color = [219, 32, 34, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "master_blaster_1st_rop_dmg"
name = "1st RoP DMG"
display_text = "RoP DMG"
trigger = { type = "ability_cast", abilities = [3400759399940096] }
duration_secs = 11.6
color = [224, 33, 187, 255]
difficulties = ["veteran"]
chains_to = "master_blaster_2nd_rop_dmg"

[[boss.timer]]
id = "master_blaster_2nd_rop_dmg"
name = "2nd RoP DMG"
display_text = "RoP DMG"
trigger = { type = "manual" }
duration_secs = 9.0
color = [224, 33, 187, 255]
difficulties = ["veteran"]
chains_to = "master_blaster_3rd_rop_dmg"

[[boss.timer]]
id = "master_blaster_3rd_rop_dmg"
name = "3rd RoP DMG"
display_text = "RoP DMG"
trigger = { type = "manual" }
duration_secs = 9.0
color = [224, 33, 187, 255]
difficulties = ["veteran"]
chains_to = "master_blaster_rop_shield_down"

[[boss.timer]]
id = "master_blaster_rop_shield_down"
name = "RoP Shield Down"
trigger = { type = "manual" }
duration_secs = 6.0
color = [224, 33, 187, 255]
difficulties = ["veteran"]
chains_to = "master_blaster_rain_of_pain"

[[boss.timer]]
id = "master_blaster_rain_of_pain"
name = "Rain of Pain"
trigger = { type = "manual" }
duration_secs = 49.4
color = [224, 33, 187, 255]
difficulties = ["veteran"]

[[boss.timer]]
id = "master_blaster_scatterblast_p1"
name = "Scatterblast P1"
display_text = "Scatterblast"
trigger = { type = "ability_cast", abilities = [3393552444817408] }
duration_secs = 9.0
color = [219, 28, 28, 255]
difficulties = ["veteran"]
phases = ["master_blaster_main"]

[[boss.timer]]
id = "master_blaster_scatterblast_p2"
name = "Scatterblast P2"
display_text = "Scatterblast"
trigger = { type = "ability_cast", abilities = [3393552444817408] }
duration_secs = 18.0
color = [220, 42, 39, 255]
difficulties = ["veteran"]
phases = ["master_blaster_master"]


# ═══════════════════════════════════════════════════════════════════════════════
# Boss 5: Coratanni
# ═══════════════════════════════════════════════════════════════════════════════
# Special encounter: Multi-phase boss across two ships (Coratanni/Pearl -> Ruugar).
# Victory is determined by Ruugar casting "Activating Self Destruct" at 9% HP, not by his death.

[[boss]]
id = "coratanni"
name = "Coratanni"
difficulties = ["story", "veteran", "master"]
has_victory_trigger = true
victory_trigger = { type = "ability_cast", abilities = [3502391211065344] }

[[boss.entities]]
name = "Coratanni"
ids = [3619433364848640, 3371437658210304]
is_boss = true

[[boss.entities]]
name = "Ruugar"
ids = [3371441953177600, 3397039958261760]
is_boss = true

[[boss.entities]]
name = "Pearl"
ids = [3374109127868416]
is_boss = true
